<!-- ********************* -->
# GitHub Copilot Chat Participants
<!-- ********************* -->

**Note:** This article was generated with the assistance of ChatGPT and may contain automated content. Please verify critical details.

GitHub Copilot Chat supports **chat participants**—named experts you invoke with the `@` prefix. Two built‑in participants ship today:

* **`@vscode`** – answers questions about the Visual Studio Code IDE and can execute VS Code commands.
* **`@workspace`** – answers questions that require knowledge of the files in your currently opened folder or solution.

Participants behave like narrow‑scope agents, but they are formally registered through the VS Code Chat API; they are **not** created with prompt files.

## Table of contents

1. Overview of participants
2. Built‑in participants
3. Working with `@vscode`
4. Working with `@workspace`
5. Creating a custom participant (sample code)
6. Best practices and limitations
7. References

<!-- ********************* -->
# Overview of participants
<!-- ********************* -->

A *chat participant* is an extension‑provided handler that VS Code can route a chat message to. You register one in an extension’s `package.json` under `contributes.chatParticipants`. At runtime the participant receives the user’s prompt and streams back an answer. Users discover available participants by typing `@` in the chat input, which shows a quick‑pick list.

Participants and **prompt files** are complementary: prompts become `/commands`; participants become `@experts`. You can combine them—for example, `@vscode /runCommand workbench.action.toggleSidebarVisibility`.

<!-- ********************* -->
# Built‑in participants
<!-- ********************* -->

| Name         | Scope                                   | Typical use                                                | Notable slash commands                      |
| ------------ | --------------------------------------- | ---------------------------------------------------------- | ------------------------------------------- |
| `@vscode`    | Visual Studio Code itself               | Keybindings, settings, IDE automation                      | `/runCommand`, `/search`, `/startDebugging` |
| `@workspace` | The currently opened folder or solution | Code navigation, architecture questions, refactoring ideas | None (question‑and‑answer only)             |

<!-- ********************* -->
# Working with `@vscode`
<!-- ********************* -->

`@vscode` answers questions about VS Code features and can execute commands when the **`github.copilot.chat.runCommand.enabled`** setting is true.

### Example queries

* `@vscode how do I enable word wrapping?` – Lists the menu path and setting key.
* `@vscode /runCommand workbench.action.toggleSidebarVisibility` – Hides or shows the side bar.
* `@vscode /search "regex"` – Opens the Search panel with the query pre‑filled.

### Limitations

* Cannot access your codebase beyond what VS Code exposes via commands.
* `/runCommand` is sandboxed to prevent destructive operations.

<!-- ********************* -->
# Working with `@workspace`
<!-- ********************* -->

`@workspace` routes the prompt to a participant that indexes your open files and selects relevant snippets for the language model. It is ideal for architectural questions or refactors that need global context.

Example:

```text
@workspace how is authentication handled across the project?
```

### More examples

**Without a slash command**

```text
@workspace find every place we call the legacy `encryptPassword` helper and suggest a modern replacement.
```

Copilot searches the workspace and replies with file excerpts and refactor advice.

**Combined with a slash command**

Assuming you have a prompt file named `generate-tests.prompt.md` that becomes `/generate-tests`:

```text
@workspace /generate-tests src/auth/login.ts
```

Copilot uses the participant to locate `login.ts`, feeds its contents to the LLM, and returns unit tests generated by the prompt file.

Copilot scans for authentication‑related code and cites the files it used.

### Tips

* Keep your workspace tidy; large `node_modules` folders can dilute relevance.
* If Copilot misses context, open the file first or drag it into the **Used references** list to hint the participant.

<!-- ********************* -->
# Creating a custom participant (sample code)
<!-- ********************* -->

Below is a minimal extension that registers **`@todo`**, an expert that lists `TODO` or `FIXME` comments in your workspace.

### `package.json`

```jsonc
{
  "name": "todo-participant",
  "version": "0.0.1",
  "engines": { "vscode": "^1.89.0" },
  "main": "./dist/extension.js",
  "contributes": {
    "chatParticipants": [
      {
        "id": "todo",
        "label": "TODO Helper",
        "icon": "media/todo.svg",
        "entrypoint": "./dist/todoParticipant.js"
      }
    ]
  },
  "activationEvents": ["onChatParticipant:todo"]
}
```

### `todoParticipant.ts`

```ts
import * as vscode from 'vscode';

export const activate = () => {
  const participant = vscode.chat.createChatParticipant('todo', {
    async onChatMessage(message, progress) {
      const todos: string[] = [];
      for (const doc of vscode.workspace.textDocuments) {
        const matches = doc.getText().match(/^.*(TODO|FIXME).*/gm) || [];
        for (const m of matches) {
          todos.push(`${doc.fileName}: ${m.trim()}`);
        }
      }
      progress.appendMarkdown(todos.length ? todos.join('\n') : 'No TODOs found.');
    }
  });
  return participant;
};
```

Install the extension, reload VS Code, then type `@todo` in Copilot Chat to run the helper.

<!-- ********************* -->
# How participants process prompts under the hood
<!-- ********************* -->

Participants such as `@vscode` and `@workspace` are **LLM‑first** helpers. The extension packages context (IDE metadata, workspace snippets, or the result of a slash command) and sends one request to Copilot’s cloud language‑model service.  If the prompt includes a local action like `/runCommand`, that action executes first, and its result is fed into the same LLM call so the reply can mention what just happened.

### Comparison with a pure tool call

| Aspect                | Chat participant                                     | Pure MCP/tool call            |
| --------------------- | ---------------------------------------------------- | ----------------------------- |
| Primary compute       | LLM reasoning plus optional local command            | Deterministic function only   |
| Context collection    | Automatic (open files, selection, IDE state)         | Only explicit arguments       |
| Output                | Natural‑language answer, often with code suggestions | Raw API response (JSON, text) |
| Runs without network? | No, needs Copilot cloud                              | Yes, if tool is local         |

If you block Copilot’s network access, participants stop producing answers—confirming that the LLM is essential.

<!-- ********************* -->
# Best practices and limitations
<!-- ********************* -->

* Use participants when the domain is orthogonal to code generation (IDE help, repo‑wide Q\&A).
* Keep each participant narrow; VS Code routes a message to only one participant at a time.
* Combine participants with slash commands for multi‑step workflows (`@vscode /runCommand`, `@workspace fix imports`).
* Participants cannot call each other directly; if you need orchestration, build an “agent” prompt (`mode: agent`) or create a higher‑level participant.

<!-- ********************* -->
# References
<!-- ********************* -->

1. **VS Code API – Chat extensions guide** – Explains `contributes.chatParticipants` and routing.  [https://code.visualstudio.com/api/extension-guides/chat](https://code.visualstudio.com/api/extension-guides/chat)
2. **VS Code Docs – Copilot Chat** – Describes chat UI, shortcuts, and `@` invocation. [https://code.visualstudio.com/docs/copilot/chat/copilot-chat](https://code.visualstudio.com/docs/copilot/chat/copilot-chat)
3. **VS Code Docs – Workspace context participant** – Details `@workspace` behaviour. [https://code.visualstudio.com/docs/copilot/reference/workspace-context](https://code.visualstudio.com/docs/copilot/reference/workspace-context)
4. **VS Code Settings reference** – Lists `github.copilot.chat.runCommand.enabled`. [https://code.visualstudio.com/docs/copilot/reference/copilot-settings](https://code.visualstudio.com/docs/copilot/reference/copilot-settings)
5. **Chat participant tutorial** – Step‑by‑step extension example. [https://code.visualstudio.com/api/extension-guides/chat-tutorial](https://code.visualstudio.com/api/extension-guides/chat-tutorial)
6. **GitHub Docs – Getting started with prompts** – Mentions participants in examples. [https://docs.github.com/en/copilot/using-github-copilot/copilot-chat/getting-started-with-prompts-for-copilot-chat](https://docs.github.com/en/copilot/using-github-copilot/copilot-chat/getting-started-with-prompts-for-copilot-chat)
7. **GitHub Docs – Asking Copilot questions in your IDE** – Lists participants and slash commands. [https://docs.github.com/en/copilot/using-github-copilot/copilot-chat/asking-github-copilot-questions-in-your-ide](https://docs.github.com/en/copilot/using-github-copilot/copilot-chat/asking-github-copilot-questions-in-your-ide)
8. **VS Code API reference – ChatParticipant** – Interface docs for programmatic creation. [https://code.visualstudio.com/api/references/vscode-api](https://code.visualstudio.com/api/references/vscode-api)
9. **Medium – Leveraging GitHub Copilot Chat syntax** – Practical advice on using participants. [https://medium.com/@webmaxru/leveraging-github-copilot-chat-syntax-chat-participants-chat-variables-slash-commands-c6036c62ab3c](https://medium.com/@webmaxru/leveraging-github-copilot-chat-syntax-chat-participants-chat-variables-slash-commands-c6036c62ab3c)
10. **Microsoft Learn – Tips for Copilot Chat context** – Explains workspace context in Visual Studio. [https://learn.microsoft.com/en-us/visualstudio/ide/copilot-chat-context](https://learn.microsoft.com/en-us/visualstudio/ide/copilot-chat-context)
11. **VS Code Docs – Slash command reference** – Documents `/runCommand` and related actions. [https://code.visualstudio.com/docs/copilot/reference/slash-commands](https://code.visualstudio.com/docs/copilot/reference/slash-commands)
12. **Copilot extension blog – Inline chat under the hood** – Shows request flow including LLM call. [https://github.blog/2025-02-15-copilot-inline-chat-architecture](https://github.blog/2025-02-15-copilot-inline-chat-architecture)
13. **API deep dive – ChatParticipantProvider** – How to stream answers from an extension. [https://code.visualstudio.com/api/extension-guides/chat#chatparticipantprovider](https://code.visualstudio.com/api/extension-guides/chat#chatparticipantprovider)
